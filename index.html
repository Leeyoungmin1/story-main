<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>소원 요정 키링 테스트</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
<style>
  *{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;user-select:none}
  body{
    font-family:"Noto Sans KR",sans-serif;
    background:linear-gradient(135deg,#667eea 0%,#764ba2 50%,#f093fb 100%);
    background-attachment:fixed;min-height:100vh;display:flex;align-items:center;justify-content:center;
    padding:15px;overflow-x:hidden;position:relative
  }
  body::before{
    content:'';position:fixed;inset:0;pointer-events:none;opacity:.6;
    background:
      radial-gradient(2px 2px at 20px 30px,#fff,transparent),
      radial-gradient(2px 2px at 40px 70px,#fff,transparent),
      radial-gradient(1px 1px at 90px 40px,#fff,transparent),
      radial-gradient(1px 1px at 130px 80px,#fff,transparent),
      radial-gradient(2px 2px at 160px 30px,#fff,transparent);
    background-size:200px 100px;animation:sparkles 3s linear infinite
  }
  @keyframes sparkles{from{transform:translateY(0)}to{transform:translateY(-100px)}}

  .app{
    width:100%;max-width:340px;background:rgba(255,255,255,.95);backdrop-filter:blur(20px);
    border-radius:25px;padding:30px 25px;position:relative;overflow:hidden;
    box-shadow:0 20px 40px rgba(0,0,0,.1),0 0 0 1px rgba(255,255,255,.2)
  }

  h1,h2{font-size:1.6rem;font-weight:700;color:#2d3436;margin-bottom:1.2rem;line-height:1.3;text-align:center}
  p{font-size:.9rem;color:#636e72;line-height:1.6;margin-bottom:1rem;text-align:center;word-break:keep-all}

  .page{display:none;position:relative;z-index:1;text-align:center}
  .page.active{display:block;animation:fadeInUp .6s ease-out}
  @keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

  .progress-container{width:100%;height:8px;background:rgba(108,92,231,.1);border-radius:10px;margin-bottom:20px;overflow:hidden}
  .progress-bar{height:100%;width:0%;background:linear-gradient(90deg,#6c5ce7,#a29bfe);border-radius:10px;transition:width .4s ease;position:relative}
  .progress-bar::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:shimmer 2s infinite}
  @keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
  #progress-text{font-size:.85rem;color:#74b9ff;margin:.5rem 0;font-weight:500}

  button{
    width:100%;margin:8px 0;padding:16px 24px;font-size:.95rem;font-weight:600;color:#fff;border:none;border-radius:25px;
    background:linear-gradient(135deg,#6c5ce7,#a29bfe);cursor:pointer;transition:all .2s ease;position:relative;overflow:hidden;
    box-shadow:0 6px 20px rgba(108,92,231,.25)
  }
  button::before{content:'';position:absolute;inset:0;left:-100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}
  button:not(:disabled):hover::before{left:100%}
  button:active{transform:scale(.98);box-shadow:0 4px 15px rgba(108,92,231,.3)}
  button:disabled{opacity:.6;cursor:not-allowed}
  .options{display:grid;grid-template-columns:1fr;gap:12px;margin:1.5rem 0}
  .nav-buttons{display:flex;gap:10px;margin-top:1rem}
  .nav-button{flex:1;padding:12px 16px;font-size:.85rem;background:rgba(108,92,231,.1);color:#6c5ce7;border:1px solid rgba(108,92,231,.2)}

  #questionText{
    background:linear-gradient(135deg,rgba(116,185,255,.1),rgba(163,155,254,.1));
    padding:20px;border-radius:15px;margin-bottom:1.5rem;border:1px solid rgba(116,185,255,.2);
    font-size:.95rem;line-height:1.4;color:#2d3436;font-weight:500;min-height:110px;
    display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;word-break:keep-all
  }
  .question-icon{font-size:2.2rem;animation:bounce 2s infinite}
  .question-text{text-align:center;white-space:pre-line}
  @keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-8px)}60%{transform:translateY(-4px)}}

  #resultTitle{font-size:1.8rem;margin-bottom:1rem;color:#6c5ce7}
  #resultDesc{
    background:linear-gradient(135deg,rgba(108,92,231,.08),rgba(163,155,254,.08));
    padding:20px;border-radius:15px;margin:1.5rem 0;border:1px solid rgba(108,92,231,.15);line-height:1.7;color:#636e72;font-size:.9rem
  }
  #resultImg{display:none;max-width:75%;margin:1.5rem auto;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,.1)}

  #intro h1{
    font-size:2rem;margin-bottom:1.2rem;background:linear-gradient(45deg,#6c5ce7,#a29bfe,#74b9ff);background-size:200% 200%;
    -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:textShine 2s ease-in-out infinite alternate
  }
  @keyframes textShine{from{background-position:0% 50%}to{background-position:100% 50%}}

  /* 인트로 이미지 */
  #introImg {
    display:block;
    max-width:70%;
    height:auto;
    margin:0 auto 1.2rem auto;
    border-radius:20px;
    box-shadow:0 10px 20px rgba(0,0,0,0.15);
    position:relative; z-index:2;
  }

  #ending{background:linear-gradient(135deg,rgba(116,185,255,.05),rgba(163,155,254,.05));padding:20px;border-radius:15px;border:1px solid rgba(116,185,255,.1)}
  #ending h2{color:#74b9ff;margin-bottom:1rem}

  @media (max-width:380px){
    .app{padding:25px 20px;max-width:320px}
    h1,h2{font-size:1.5rem}
    #intro h1{font-size:1.8rem}
    p{font-size:.85rem}
    button{padding:14px 20px;font-size:.9rem}
    #questionText{padding:18px;font-size:.9rem;min-height:100px}
    .question-icon{font-size:2rem}
    .nav-button{font-size:.8rem;padding:10px 12px}
  }
</style>
</head>
<body>
  <div class="app">
    <!-- 인트로 -->
    <section id="intro" class="page active">
      <h1>✨ 소원 요정 키링 ✨</h1>

      <!-- 인트로 이미지: 이미지가 index.html과 같은 폴더면 ./ 로, assets 폴더면 ./assets/ 로 바꾸세요 -->
      <img id="introImg" src="./a2bc5ad8-5308-4889-84e0-a8fb4ecdddf2.png" alt="인트로 이미지">

      <p>바쁘고 지친 하루 끝, 무거운 발걸음을 이끌고 집으로 돌아가는 길. 창문에 기대어 잠깐 눈을 붙이려던 순간 반짝이는 빛이 나타났다.</p>
      <p>작은 날개를 가진 소녀, 소원 요정!</p>
      <button id="startBtn" type="button">✨ 테스트 시작하기</button>
    </section>

    <!-- 질문 -->
    <section id="quiz" class="page">
      <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
      <p id="progress-text">0 / 24</p>
      <div id="questionText">질문이 여기에 표시됩니다</div>
      <div class="options">
        <button id="btnYes" type="button">💫 네</button>
        <button id="btnNo"  type="button">🌙 아니오</button>
      </div>
      <div class="nav-buttons">
        <button id="btnPrev" class="nav-button" type="button">← 이전</button>
      </div>
    </section>

    <!-- 결과 -->
    <section id="result" class="page">
      <h2 id="resultTitle">결과</h2>
      <p id="resultDesc">결과 설명이 여기에 표시됩니다</p>
      <img id="resultImg" alt="결과 이미지" />
      <button id="endBtn" type="button">🎁 엔딩 보기</button>
    </section>

    <!-- 엔딩 -->
    <section id="ending" class="page">
      <h2>소원 요정의 선물 🎁</h2>
      <p>짠! 이게 바로 너를 위한 소원 키링이야.</p>
      <p>소원이 이뤄지길 바라는 간절한 마음으로 키링을 만들어보는 건 어때? 앞으로의 하루하루가 행운 가득하길 바랄게 ✨</p>
      <button id="restartBtn" type="button">🔄 다시 하기</button>
    </section>
  </div>

  <!-- 이미지 진단/대체 처리 -->
  <script>
    (function () {
      const img = document.getElementById('introImg');
      if (!img) return;
      img.addEventListener('load', () => {
        console.log('[introImg] loaded:', img.currentSrc || img.src);
      });
      img.addEventListener('error', () => {
        console.error('[introImg] load FAIL:', img.src);
        const hint = document.createElement('div');
        hint.style.cssText = 'margin:10px auto 0; color:#e74c3c; font-size:12px;';
        hint.textContent = '이미지를 불러오지 못했어요. 경로/파일명/확장자(.png/.jpg)와 대소문자를 확인하세요.';
        img.insertAdjacentElement('afterend', hint);
        img.style.display = 'none';
        const ph = document.createElement('div');
        ph.style.cssText = 'width:70%;height:140px;margin:0 auto 1.2rem;border-radius:20px;background:rgba(0,0,0,0.06)';
        img.parentElement.insertBefore(ph, hint);
      });
    })();
  </script>

  <!-- 퀴즈 로직 -->
  <script src="quiz.js"></script>
</body>
</html>
